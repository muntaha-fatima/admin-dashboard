{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/dell/admin%20dashborad/app/page.tsx"],"sourcesContent":["// \n\n\n\n// \"use client\";\n\n// import { useEffect, useState } from \"react\";\n// import { fetchAllCouponsPaginated, deleteCoupon, Coupon } from \"@/lib/api\";\n// import { Card } from \"@/components/ui/card\";\n// import { Button } from \"@/components/ui/button\";\n// import { toast } from \"sonner\";\n\n// export default function CouponList() {\n//   const [coupons, setCoupons] = useState<Coupon[]>([]);\n//   const [loading, setLoading] = useState(true);\n\n//   const loadCoupons = async () => {\n//     try {\n//       const data = await fetchAllCouponsPaginated();\n//       setCoupons(data);\n//     } catch (err) {\n//       console.error(\"Failed to load coupons\", err);\n//       toast.error(\"Failed to fetch coupons\");\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const handleDelete = async (couponId: string) => {\n//     const token = localStorage.getItem(\"token\");\n//     if (!token) return toast.error(\"Token not found!\");\n\n//     try {\n//       await deleteCoupon(couponId, token);\n//       toast.success(\"Coupon deleted\");\n//       loadCoupons();\n//     } catch (err) {\n//       console.error(\"Delete error:\", err);\n//       toast.error(\"Failed to delete coupon\");\n//     }\n//   };\n\n//   useEffect(() => {\n//     loadCoupons();\n//   }, []);\n\n//   return (\n//     <div className=\"space-y-4\">\n//       <h2 className=\"text-xl font-semibold\">Coupon List</h2>\n\n//       {loading ? (\n//         <p>Loading coupons...</p>\n//       ) : coupons.length === 0 ? (\n//         <p>No coupons found.</p>\n//       ) : (\n//         coupons.map((coupon) => (\n//           <Card\n//             key={coupon._id}\n//             className=\"p-4 flex justify-between items-center\"\n//           >\n//             <div className=\"space-y-1\">\n//               <div className=\"font-medium text-lg\">{coupon.offerDetails}</div>\n//               {coupon.code && (\n//                 <div className=\"text-sm text-muted-foreground\">\n//                   Code: {coupon.code}\n//                 </div>\n//               )}\n//               {coupon.store && (\n//                 <div className=\"text-sm text-muted-foreground\">\n//                   Store: {coupon.store}\n//                 </div>\n//               )}\n//               <div className=\"text-xs text-gray-500\">\n//                 Hits: {coupon.hits} | Last Accessed:{\" \"}\n//                 {new Date(coupon.lastAccessed).toLocaleDateString()}\n//               </div>\n//             </div>\n\n//             <Button\n//               variant=\"destructive\"\n//               size=\"sm\"\n//               onClick={() => handleDelete(coupon._id)}\n//             >\n//               Delete\n//             </Button>\n//           </Card>\n//         ))\n//       )}\n//     </div>\n//   );\n// }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// 'use client'\n\n// import { useEffect, useState } from 'react'\n// import {\n//   fetchCoupons,\n//   createCoupon,\n//   deleteCoupon,\n\n//   type Coupon,\n//   type CreateCouponInput\n// } from '@/lib/firebase'\n// import { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card'\n// import { Button } from '@/components/ui/button'\n// import { Input } from '@/components/ui/input'\n// import { Label } from '@/components/ui/label'\n// import { toast } from 'sonner'\n// import { Loader2 } from 'lucide-react'\n// import Image from 'next/image'\n\n// export default function CouponsPage() {\n//   const [coupons, setCoupons] = useState<Coupon[]>([])\n//   const [loading, setLoading] = useState(true)\n//   const [submitting, setSubmitting] = useState(false)\n//   const [deletingIds, setDeletingIds] = useState<string[]>([])\n//   const [token, setToken] = useState<string | null>(null)\n\n//   const [form, setForm] = useState<CreateCouponInput>({\n//     offerDetails: '',\n//     code: '',\n//     store: '',\n//     active: true,\n//     isValid: true,\n//     featuredForHome: false,\n//     expirationDate: ''\n//   })\n\n//   useEffect(() => {\n//     const storedToken = localStorage.getItem('token')\n//     if (!storedToken) {\n//       toast.error('Please login to view or manage coupons')\n//     }\n//     setToken(storedToken)\n//   }, [])\n\n//   useEffect(() => {\n//     if (token) loadCoupons()\n//   }, [token])\n\n//   const loadCoupons = async () => {\n//     setLoading(true)\n//     try {\n//       const data = await fetchCoupons()\n//       setCoupons(data)\n//     } catch (err) {\n//       console.error(err)\n//       toast.error('Failed to load coupons')\n//     } finally {\n//       setLoading(false)\n//     }\n//   }\n\n//   const handleCreate = async () => {\n//     if (!token) return toast.error('Login required')\n//     if (!form.offerDetails.trim()) return toast.error('Offer details are required')\n//     if (!form.store) return toast.error('Store ID is required')\n\n//     setSubmitting(true)\n//     try {\n//       await createCoupon(form, token)\n//       toast.success('Coupon created successfully')\n//       setForm({\n//         offerDetails: '',\n//         code: '',\n//         store: '',\n//         active: true,\n//         isValid: true,\n//         featuredForHome: false,\n//         expirationDate: ''\n//       })\n//       loadCoupons()\n//     } catch (err) {\n//       console.error(err)\n//       toast.error('Failed to create coupon')\n//     } finally {\n//       setSubmitting(false)\n//     }\n//   }\n\n//   const handleDelete = async (id: string) => {\n//     if (!token) return toast.error('Login required')\n//     if (!window.confirm('Delete this coupon?')) return\n\n//     setDeletingIds(prev => [...prev, id])\n//     try {\n//       await deleteCoupon(id, token)\n//       toast.success('Deleted successfully')\n//       loadCoupons()\n//     } catch (err) {\n//       console.error(err)\n//       toast.error('Delete failed')\n//     } finally {\n//       setDeletingIds(prev => prev.filter(x => x !== id))\n//     }\n//   }\n\n//   return (\n//     <div className=\"p-6 space-y-6\">\n//       <Card>\n//         <CardHeader>\n//           <CardTitle>Create Coupon</CardTitle>\n//         </CardHeader>\n//         <CardContent className=\"space-y-4\">\n//           <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n//             <div>\n//               <Label>Offer Details</Label>\n//               <Input\n//                 value={form.offerDetails}\n//                 onChange={e => setForm({ ...form, offerDetails: e.target.value })}\n//                 placeholder=\"50% off on all items\"\n//               />\n//             </div>\n//             <div>\n//               <Label>Coupon Code (optional)</Label>\n//               <Input\n//                 value={form.code}\n//                 onChange={e => setForm({ ...form, code: e.target.value })}\n//                 placeholder=\"COUPON123\"\n//               />\n//             </div>\n//             <div>\n//               <Label>Store ID</Label>\n//               <Input\n//                 value={form.store}\n//                 onChange={e => setForm({ ...form, store: e.target.value })}\n//                 placeholder=\"storeId\"\n//               />\n//             </div>\n//             <div>\n//               <Label>Expiration Date</Label>\n//               <Input\n//                 type=\"datetime-local\"\n//                 value={form.expirationDate}\n//                 onChange={e => setForm({ ...form, expirationDate: e.target.value })}\n//               />\n//             </div>\n//           </div>\n//           <Button onClick={handleCreate} disabled={submitting}>\n//             {submitting ? <Loader2 className=\"animate-spin mr-2 h-4 w-4\" /> : 'Create Coupon'}\n//           </Button>\n//         </CardContent>\n//       </Card>\n\n//       <div>\n//         <h2 className=\"text-xl font-semibold mb-4\">Coupons</h2>\n//         {loading ? (\n//           <div className=\"flex justify-center p-8\">\n//             <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n//           </div>\n//         ) : coupons.length === 0 ? (\n//           <p className=\"text-center text-muted-foreground p-8\">No coupons found</p>\n//         ) : (\n//           <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n//             {coupons.map(coupon => (\n//               <Card key={coupon._id}>\n//                 <CardHeader className=\"pb-2\">\n//                   <CardTitle className=\"text-lg\">{coupon.offerDetails}</CardTitle>\n//                 </CardHeader>\n//                 <CardContent className=\"space-y-2\">\n//                   <div className=\"text-sm\">\n//                     <p><strong>Code:</strong> {coupon.code || 'N/A'}</p>\n//                     <p><strong>Valid:</strong> {coupon.isValid ? 'Yes' : 'No'}</p>\n//                     <p><strong>Active:</strong> {coupon.active ? 'Yes' : 'No'}</p>\n//                     <p><strong>Expires:</strong> {coupon.expirationDate ? new Date(coupon.expirationDate).toLocaleDateString() : 'N/A'}</p>\n//                   </div>\n//                   <div className=\"flex items-center gap-3 mt-2\">\n//                     {coupon.store?.image?.url && (\n//                       <Image\n//                         src={coupon.store.image.url}\n//                         alt={coupon.store.image.alt || coupon.store.name}\n//                         width={48}\n//                         height={48}\n//                         className=\"rounded border\"\n//                       />\n//                     )}\n//                     <div>\n//                       <p className=\"font-medium\">{coupon.store?.name || 'Unknown Store'}</p>\n//                       <p className=\"text-xs text-muted-foreground\">{coupon.store?.trackingUrl}</p>\n//                     </div>\n//                   </div>\n//                   <Button\n//                     variant=\"destructive\"\n//                     size=\"sm\"\n//                     onClick={() => handleDelete(coupon._id)}\n//                     disabled={deletingIds.includes(coupon._id)}\n//                   >\n//                     {deletingIds.includes(coupon._id) ? (\n//                       <>\n//                         <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n//                         Deleting...\n//                       </>\n//                     ) : (\n//                       'Delete'\n//                     )}\n//                   </Button>\n//                 </CardContent>\n//               </Card>\n//             ))}\n//           </div>\n//         )}\n//       </div>\n//     </div>\n//   )\n// }\"use client\"\n\n// import { FirebaseLogin } from \"@/components/firebase-login\"\n// import { FirebaseDashboard } from \"@/components/firebase-dashboard\"\n// import { useAuth } from \"@/hooks/useAuth\"\n// import { Loader2 } from \"lucide-react\"\n\n// export default function Home() {\n//   const { user, loading } = useAuth()\n\n//   if (loading) {\n//     return (\n//       <div className=\"min-h-screen flex items-center justify-center\">\n//         <Loader2 className=\"h-8 w-8 animate-spin\" />\n//       </div>\n//     )\n//   }\n\n//   if (!user) {\n//     return <FirebaseLogin />\n//   }\n\n//   return <FirebaseDashboard />\n// }\n\n\n\n\n\n\n\n\nimport { redirect } from \"next/navigation\"\n\nexport default function Home() {\n\n  \n  redirect(\"/admin\")\n}"],"names":[],"mappings":"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","debugId":null}}]
}