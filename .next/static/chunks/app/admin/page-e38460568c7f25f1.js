(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{1453:(e,t,s)=>{Promise.resolve().then(s.bind(s,6107))},6107:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>L});var a=s(5155),r=s(2115),l=s(6671),o=s(2596),i=s(9688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,i.QP)((0,o.$)(t))}function d(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card",className:n("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function c(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:n("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...s})}function m(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:n("leading-none font-semibold",t),...s})}function u(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:n("text-muted-foreground text-sm",t),...s})}function x(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:n("px-6",t),...s})}var h=s(7073);function g(e){let{className:t,...s}=e;return(0,a.jsx)(h.b,{"data-slot":"label",className:n("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}function p(e){let{className:t,type:s,...r}=e;return(0,a.jsx)("input",{type:s,"data-slot":"input",className:n("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var b=s(4624),f=s(2085);let v=(0,f.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function j(e){let{className:t,variant:s,size:r,asChild:l=!1,...o}=e,i=l?b.DX:"button";return(0,a.jsx)(i,{"data-slot":"button",className:n(v({variant:s,size:r,className:t})),...o})}let w=(0,f.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function N(e){let{className:t,variant:s,asChild:r=!1,...l}=e,o=r?b.DX:"span";return(0,a.jsx)(o,{"data-slot":"badge",className:n(w({variant:s}),t),...l})}var y=s(8719),k=s(3717),A=s(5040),C=s(7213),T=s(8564),U=s(4616),F=s(2657),P=s(4416),I=s(7924),D=s(9869),E=s(7580),R=s(7434),S=s(4229),_=s(2525);function L(){var e,t;let[s,o]=(0,r.useState)({contentType:"book",title:"",author:"",description:"",imageUrl:"",pdfUrl:"",isFeatured:!1}),[i,n]=(0,r.useState)({contentType:"image",promoImageUrl:"",isActive:!1,title:"Promotional Image"}),[h,b]=(0,r.useState)("book"),[f,v]=(0,r.useState)(null),[w,L]=(0,r.useState)(null),[B,q]=(0,r.useState)(!1),[z,O]=(0,r.useState)(null),[M,V]=(0,r.useState)(!1),[J,X]=(0,r.useState)([]),[H,Q]=(0,r.useState)([]),[Y,$]=(0,r.useState)("add"),[G,K]=(0,r.useState)(""),W=async()=>{try{console.log("\uD83D\uDCE1 Fetching content from /api/booklibrary");let e=await fetch("/api/booklibrary",{cache:"no-store"}),t=await e.json();if(!e.ok)throw Error(t.message||"Failed to fetch content");if(console.log("✅ Raw data fetched from API:",t),Array.isArray(t)){let e=[],s=[];t.forEach(t=>{"book"===t.contentType?e.push(t):"image"===t.contentType&&s.push(t)}),X(e.reverse()),Q(s.reverse())}}catch(e){l.oR.error("⚠️ Error fetching content"),console.error("Fetch error:",e)}};(0,r.useEffect)(()=>{W()},[]);let Z=(0,r.useMemo)(()=>{let e=[...J,...H];if(!G)return e;let t=G.toLowerCase();return e.filter(e=>{var s;return"book"===e.contentType?e.title.toLowerCase().includes(t)||e.author.toLowerCase().includes(t):null==(s=e.title)?void 0:s.toLowerCase().includes(t)})},[J,H,G]),ee=e=>{let{name:t,value:s}=e.target;o(e=>({...e,[t]:s}))},et=e=>{let{name:t,value:s}=e.target;n(e=>({...e,[t]:s}))},es=e=>{let{name:t,value:s}=e.target;v(e=>e?{...e,[t]:s}:e)},ea=e=>{let{name:t,value:s}=e.target;L(e=>e?{...e,[t]:s}:e)},er=async(e,t)=>{if(confirm("Are you sure you want to delete this ".concat(t,"?")))try{if(!(await fetch("/api/booklibrary?id=".concat(e,"&contentType=").concat(t),{method:"DELETE"})).ok)throw Error("Failed to delete");l.oR.success("✅ ".concat(t," deleted successfully")),W()}catch(e){l.oR.error("❌ Failed to delete ".concat(t)),console.error("Delete error:",e)}},el=e=>{q(!0),O(e.contentType),"book"===e.contentType?(v(e),L(null)):(L(e),v(null)),$("add"),l.oR.info("\uD83D\uDCDD Edit mode activated for ".concat(e.contentType))},eo=()=>{v(null),L(null),q(!1),O(null),o({contentType:"book",title:"",author:"",description:"",imageUrl:"",pdfUrl:"",isFeatured:!1}),n({contentType:"image",promoImageUrl:"",isActive:!1,title:"Promotional Image"}),$("view"),l.oR.info("❌ Edit cancelled")},ei=async e=>{e.preventDefault(),V(!0);let t=B&&f?f:s,{title:a,author:r,imageUrl:o,pdfUrl:i}=t;if(!a||!r||!o||!i){l.oR.error("⚠️ All book fields are required"),V(!1);return}try{let e=B?"PUT":"POST",s="/api/booklibrary"+(B?"?id=".concat(null==f?void 0:f._id,"&contentType=book"):"");if(!(await fetch(s,{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw Error("Failed to save book");l.oR.success("✅ Book ".concat(B?"updated":"added"," successfully")),W(),eo()}catch(e){l.oR.error("❌ Failed to save book"),console.error("Book submit error:",e)}finally{V(!1)}},en=async e=>{e.preventDefault(),V(!0);let t=B&&w?w:i,{promoImageUrl:s}=t;if(!s){l.oR.error("⚠️ Promotional image URL is required"),V(!1);return}try{let e=B?"PUT":"POST",s="/api/booklibrary"+(B?"?id=".concat(null==w?void 0:w._id,"&contentType=image"):"");if(!(await fetch(s,{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw Error("Failed to save promo image");l.oR.success("✅ Promo image ".concat(B?"updated":"added"," successfully")),W(),eo()}catch(e){l.oR.error("❌ Failed to save promo image"),console.error("Promo submit error:",e)}finally{V(!1)}},ed=e=>{let{name:t,label:s,value:r,onChange:l,required:o,icon:i,...n}=e;return(0,a.jsxs)("div",{className:"space-y-2 relative",children:[(0,a.jsx)(g,{htmlFor:t,className:"text-base font-semibold text-slate-700",children:s}),i&&(0,a.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 mt-3",children:i}),(0,a.jsx)(p,{type:"text",id:t,name:t,value:r,onChange:l,required:o,className:"w-full border border-slate-300 rounded-lg p-3 pl-10 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-slate-700",...n})]})};return(0,a.jsxs)("div",{className:"flex min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 font-sans",children:[(0,a.jsxs)("aside",{className:"w-72 bg-white shadow-xl border-r border-slate-200 flex flex-col",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-slate-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg shadow-md",children:(0,a.jsx)(y.A,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:"Admin Panel"}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Books & Promo Management"})]})]}),B&&(0,a.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 p-4 rounded-lg text-white mb-4 shadow-md",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-orange-100 text-sm",children:"Editing Mode"}),(0,a.jsx)("p",{className:"font-bold truncate text-lg",children:"book"===z?null==f?void 0:f.title:(null==w?void 0:w.title)||"Promo Image"})]}),(0,a.jsx)(k.A,{className:"w-6 h-6 text-orange-200"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-3 mb-6",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 p-4 rounded-lg text-white shadow-md",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-blue-100 text-sm",children:"Total Entries"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:J.length+H.length})]}),(0,a.jsx)(A.A,{className:"w-8 h-8 text-blue-200 opacity-70"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 p-4 rounded-lg text-white shadow-md",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-purple-100 text-sm",children:"Books"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:J.length})]}),(0,a.jsx)(A.A,{className:"w-8 h-8 text-purple-200 opacity-70"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-green-600 p-4 rounded-lg text-white shadow-md",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-green-100 text-sm",children:"Promo Images"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:H.length})]}),(0,a.jsx)(C.A,{className:"w-8 h-8 text-green-200 opacity-70"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-600 p-4 rounded-lg text-white shadow-md",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-yellow-100 text-sm",children:"Featured"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:J.filter(e=>e.isFeatured).length})]}),(0,a.jsx)(T.A,{className:"w-8 h-8 text-yellow-200 opacity-70"})]})})]})]}),(0,a.jsxs)("nav",{className:"p-6 space-y-2 flex-1",children:[(0,a.jsxs)("button",{onClick:()=>$("add"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ".concat("add"===Y?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"text-slate-600 hover:bg-slate-100"),children:[B?(0,a.jsx)(k.A,{className:"w-5 h-5"}):(0,a.jsx)(U.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:B?"Edit Content":"Add New Content"})]}),(0,a.jsxs)("button",{onClick:()=>$("view"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ".concat("view"===Y?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"text-slate-600 hover:bg-slate-100"),children:[(0,a.jsx)(F.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"View All Content"})]}),B&&(0,a.jsxs)("button",{onClick:eo,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-red-600 hover:bg-red-50 transition-all duration-200",children:[(0,a.jsx)(P.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Cancel Edit"})]})]}),(0,a.jsx)("div",{className:"p-6 border-t border-slate-200 text-sm text-slate-500",children:(0,a.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Book Library. All rights reserved."]})})]}),(0,a.jsxs)("main",{className:"flex-1 overflow-y-auto",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b border-slate-200 p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-slate-800",children:"add"===Y?B?"✏️ Edit Content":"\uD83D\uDCDA Add New Content":"\uD83D\uDCD6 Content Management"}),(0,a.jsx)("p",{className:"text-slate-600 mt-1",children:"add"===Y?B?"Editing: ".concat("book"===z?null==f?void 0:f.title:(null==w?void 0:w.title)||"Promo Image"):"Add books or promotional images to your library":"Manage your books and promotional images"})]}),"view"===Y&&(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(I.A,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),(0,a.jsx)(p,{placeholder:"Search content...",value:G,onChange:e=>K(e.target.value),className:"pl-10 w-64 border-slate-300 focus:ring-blue-500 focus:border-transparent"})]})})]})}),(0,a.jsx)("div",{className:"p-6",children:"add"===Y?(0,a.jsxs)(d,{className:"shadow-xl border-0 bg-white rounded-xl",children:[(0,a.jsxs)(c,{className:"bg-gradient-to-r from-slate-50 to-blue-50 border-b rounded-t-xl p-6",children:[(0,a.jsxs)(m,{className:"flex items-center gap-3 text-2xl font-bold text-slate-800",children:[B?(0,a.jsx)(k.A,{className:"w-6 h-6"}):(0,a.jsx)(D.A,{className:"w-6 h-6"}),B?"Edit Content Details":"Add New Content"]}),(0,a.jsx)(u,{className:"text-slate-600",children:B?"Update the content information below":"Fill in the required information for the book or promotional image"})]}),(0,a.jsx)(x,{className:"p-8",children:(0,a.jsxs)("form",{onSubmit:"book"===h?ei:en,className:"space-y-8",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g,{htmlFor:"contentType",className:"text-base font-semibold text-slate-700",children:"Content Type"}),(0,a.jsxs)("select",{name:"contentType",id:"contentType",className:"w-full border border-slate-300 rounded-lg p-3 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-slate-700",value:h||"",onChange:e=>{let t=e.target.value;if(B)return void l.oR.error("Cannot change content type in edit mode.");b(t)},disabled:B,children:[(0,a.jsx)("option",{value:"book",children:"\uD83D\uDCD6 Book"}),(0,a.jsx)("option",{value:"image",children:"\uD83D\uDDBC️ Promotional Image"})]})]}),"book"===h?(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsx)(ed,{name:"title",label:"Book Title",value:(B?null==f?void 0:f.title:s.title)||"",onChange:B?es:ee,required:!0,icon:(0,a.jsx)(A.A,{className:"w-4 h-4 text-slate-500"})}),(0,a.jsx)(ed,{name:"author",label:"Author Name",value:(B?null==f?void 0:f.author:s.author)||"",onChange:B?es:ee,required:!0,icon:(0,a.jsx)(E.A,{className:"w-4 h-4 text-slate-500"})}),(0,a.jsx)("div",{className:"md:col-span-2",children:(0,a.jsx)(ed,{name:"description",label:"Description",value:(B?null==f?void 0:f.description:s.description)||"",onChange:B?es:ee,icon:(0,a.jsx)(R.A,{className:"w-4 h-4 text-slate-500"})})}),(0,a.jsx)(ed,{name:"imageUrl",label:"Cover Image URL",value:(B?null==f?void 0:f.imageUrl:s.imageUrl)||"",onChange:B?es:ee,required:!0,icon:(0,a.jsx)(C.A,{className:"w-4 h-4 text-slate-500"})}),(0,a.jsx)(ed,{name:"pdfUrl",label:"PDF File URL",value:(B?null==f?void 0:f.pdfUrl:s.pdfUrl)||"",onChange:B?es:ee,required:!0,icon:(0,a.jsx)(R.A,{className:"w-4 h-4 text-slate-500"})})]}):(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(ed,{name:"title",label:"Promo Title",value:(B?null==w?void 0:w.title:i.title)||"Promotional Image",onChange:B?ea:et,icon:(0,a.jsx)(A.A,{className:"w-4 h-4 text-slate-500"})}),(0,a.jsx)(ed,{name:"promoImageUrl",label:"Promotional Image URL",value:(B?null==w?void 0:w.promoImageUrl:i.promoImageUrl)||"",onChange:B?ea:et,required:!0,icon:(0,a.jsx)(C.A,{className:"w-4 h-4 text-slate-500"})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-slate-50 rounded-lg border border-slate-200 shadow-sm",children:[(0,a.jsx)("input",{type:"checkbox",id:"isFeatured",name:"book"===h?"isFeatured":"isActive",checked:"book"===h?null!=(e=B?null==f?void 0:f.isFeatured:s.isFeatured)&&e:null!=(t=B?null==w?void 0:w.isActive:i.isActive)&&t,onChange:"book"===h?B?e=>{v(t=>t?{...t,isFeatured:e.target.checked}:t)}:e=>{o(t=>({...t,isFeatured:e.target.checked}))}:B?e=>{L(t=>t?{...t,isActive:e.target.checked}:t)}:e=>{n(t=>({...t,isActive:e.target.checked}))},className:"w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-offset-0 cursor-pointer"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(g,{htmlFor:"isFeatured",className:"font-medium text-slate-700 cursor-pointer",children:"Display on Homepage"}),(0,a.jsxs)("p",{className:"text-sm text-slate-600",children:["This ","book"===h?"book":"promo image"," will be featured on the main page"]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[(0,a.jsx)(j,{type:"submit",disabled:M,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white py-3 text-lg rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 font-semibold",children:M?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),B?"Updating...":"Processing..."]}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[B?(0,a.jsx)(S.A,{className:"w-5 h-5"}):(0,a.jsx)(D.A,{className:"w-5 h-5"}),B?"Update Content":"Add Content"]})}),B&&(0,a.jsxs)(j,{type:"button",variant:"outline",onClick:eo,className:"flex-1 px-8 py-3 text-lg rounded-xl border-2 border-slate-300 bg-white text-slate-700 hover:bg-slate-50 hover:border-slate-400 transition-all duration-200 font-semibold",children:[(0,a.jsx)(P.A,{className:"w-5 h-5 mr-2"}),"Cancel"]}),(0,a.jsx)(j,{type:"button",onClick:()=>{o({contentType:"book",title:"",author:"",description:"",imageUrl:"",pdfUrl:"",isFeatured:!1}),n({contentType:"image",promoImageUrl:"",isActive:!1,title:"Promotional Image"}),V(!1),q(!1),v(null),L(null),O(null),b("book")},className:"flex-1 bg-yellow-500 text-white py-3 text-lg rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 font-semibold",children:"Reset Form"})]})]})})]}):(0,a.jsx)("div",{className:"space-y-6",children:0===Z.length?(0,a.jsxs)(d,{className:"p-12 text-center bg-white shadow-lg rounded-xl",children:[(0,a.jsx)(A.A,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-slate-600 mb-2",children:"No Content Found"}),(0,a.jsx)("p",{className:"text-slate-500",children:G?"No content matches your search criteria.":"Start by adding your first book or promo image to the library."}),!G&&(0,a.jsxs)(j,{onClick:()=>$("add"),className:"mt-6 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white py-3 px-6 rounded-xl shadow-md",children:[(0,a.jsx)(U.A,{className:"w-4 h-4 mr-2"}),"Add First Content"]})]}):(0,a.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Z.map(e=>(0,a.jsxs)(d,{className:"overflow-hidden shadow-lg hover:shadow-xl transition-all duration-200 bg-white border-0 rounded-xl",children:[(0,a.jsxs)("div",{className:"relative",children:["image"===e.contentType&&e.promoImageUrl?(0,a.jsx)("div",{className:"aspect-[3/4] overflow-hidden bg-slate-100",children:(0,a.jsx)("img",{src:e.promoImageUrl,alt:e.title||"Promotional Image",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-200",onError:t=>{t.currentTarget.src="",l.oR.error("⚠️ Failed to load image for promo: ".concat(e.title||"Untitled"))}})}):"book"===e.contentType&&e.imageUrl?(0,a.jsx)("div",{className:"aspect-[3/4] overflow-hidden bg-slate-100",children:(0,a.jsx)("img",{src:e.imageUrl||"/placeholder.svg",alt:e.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-200",onError:t=>{t.currentTarget.src="/placeholder.svg?height=300&width=225",l.oR.error("⚠️ Failed to load image for book: ".concat(e.title))}})}):(0,a.jsx)("div",{className:"aspect-[3/4] flex items-center justify-center bg-slate-100 text-slate-400",children:(0,a.jsx)(C.A,{className:"w-12 h-12"})}),(0,a.jsxs)(N,{className:"absolute top-3 left-3 bg-blue-500 text-white text-sm px-3 py-1 rounded-full shadow-md",children:[(0,a.jsx)(C.A,{className:"w-3 h-3 mr-1"}),"book"===e.contentType?"Book":"Promo"]}),("book"===e.contentType?e.isFeatured:e.isActive)&&(0,a.jsxs)(N,{className:"absolute top-3 right-3 bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-sm px-3 py-1 rounded-full shadow-md",children:[(0,a.jsx)(T.A,{className:"w-3 h-3 mr-1"}),"Featured"]})]}),(0,a.jsx)("div",{className:"p-6 space-y-3",children:"book"===e.contentType?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-xl text-slate-800 line-clamp-2",children:e.title}),(0,a.jsxs)("p",{className:"text-slate-600 flex items-center gap-1 text-sm mt-1",children:[(0,a.jsx)(E.A,{className:"w-4 h-4 text-slate-500"}),e.author]})]}),e.description&&(0,a.jsx)("p",{className:"text-sm text-slate-500 line-clamp-3",children:e.description})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-xl text-slate-800 line-clamp-2",children:e.title||"Promotional Image"}),(0,a.jsxs)("p",{className:"text-slate-600 flex items-center gap-1 text-sm mt-1",children:[(0,a.jsx)(C.A,{className:"w-4 h-4 text-slate-500"}),e.promoImageUrl?e.promoImageUrl.split("/").pop():"No URL"]})]})}),(0,a.jsxs)("div",{className:"p-6 border-t border-slate-200 flex items-center gap-3",children:[(0,a.jsx)(j,{variant:"outline",size:"icon",onClick:()=>el(e),className:"h-10 w-10 flex-shrink-0 border-slate-300 hover:bg-slate-100 text-slate-600",children:(0,a.jsx)(k.A,{className:"w-4 h-4"})}),(0,a.jsx)(j,{variant:"outline",size:"icon",onClick:()=>er(e._id,e.contentType),className:"h-10 w-10 flex-shrink-0 border-slate-300 hover:bg-red-50 text-red-600",children:(0,a.jsx)(_.A,{className:"w-4 h-4"})}),"book"===e.contentType&&e.pdfUrl&&(0,a.jsx)("a",{href:e.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:(0,a.jsxs)(j,{className:"w-full bg-blue-500 hover:bg-blue-600 transition-colors",children:[(0,a.jsx)(F.A,{className:"w-4 h-4 mr-2"}),"View Book"]})}),"image"===e.contentType&&e.promoImageUrl&&(0,a.jsx)("a",{href:e.promoImageUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:(0,a.jsxs)(j,{className:"w-full bg-green-500 hover:bg-green-600 transition-colors",children:[(0,a.jsx)(F.A,{className:"w-4 h-4 mr-2"}),"View Promo"]})})]})]},e._id))})})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[432,441,684,358],()=>t(1453)),_N_E=e.O()}]);